<html>
  <head>
  </head>
  <body id="body">
  </body>
  <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
  <script src="./main.js"></script>
  <script>
    var socket = io('http://siphon.local:3001');
    var app = Elm.fullscreen(Elm.Main, {newIncomingBubble: {t: 0, x: 0, y: 0}});

    function newBubble(bubble) {
      socket.emit("new bubble", bubble);
    }

    socket.on("bubble", function (data) {
      app.ports.newIncomingBubble.send(data);
    });

    app.ports.newBubble.subscribe(newBubble);
  </script>
</html>
